{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %} Update account {% endblock %}

{% block content %}

{% include "includes/sidebar.html" %}

  <div class="row">
    <header>
      <div class="page-header min-height-400" style="background-image: url({% static 'img/backgrounds/profile.jpeg' %});">
        <span class="mask bg-gradient-dark opacity-6"></span>
      </div>
    </header>
    <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6 mb-4">
      <section class="py-sm-7 py-5 position-relative">
        <div class="container">
          <div class="row">
            <div class="col-12 mx-auto">
              <div class="row py-5">
                <div class="col-lg-12 d-flex justify-content-center flex-column mx-auto">
                  <div class="card-header pb-0 text-left">
                    <h4 class="font-weight-bolder">Update account</h4>
                  </div>
                  <div class="card-body">
                    <form role="form" method="post" action="">
                      {% csrf_token %}
                      <div class="form-group row">
                        <div class="col">
                          {{ form.username|as_crispy_field }}
                        </div>
                        <div class="col">
                          {{ form.email|as_crispy_field }}
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col">
                          {{ form.password1|as_crispy_field }}
                        </div>
                        <div class="col">
                          {{ form.password2|as_crispy_field }}
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col">
                          {{ form.first_name|as_crispy_field }}
                        </div>
                        <div class="col">
                          {{ form.last_name|as_crispy_field }}
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col-4">
                          {{ form.position|as_crispy_field }}
                        </div>
                        <div class="col-4 mt-0">
                          <div style="display: inline-block;">
                            <p class="font-weight-bold small mb-2">Team</p>
                          </div>
                          <select id="teams" name="teams" class="form-select mt-0" multiple aria-label="multiple select example">
                            {% for team in teams %}
                              <option value="{{ team.id }}">{{ team.name }}</option>
                            {% endfor %}
                          </select>
                        </div>
                        <div class="col-4">
                          {{ form.rating_points|as_crispy_field }}
                        </div>
                      </div>
                      <div class="mx-auto">
                        <input type="submit" class="btn btn-lg bg-gradient-dark mt-4 mb-0" value="Submit">
                        <a href="{% url 'assignment_handler:worker-detail' pk=worker.id %}" class="btn btn-lg bg-gradient-light mt-4 mb-0 mx-3">Cancel</a>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>

{% endblock %}
